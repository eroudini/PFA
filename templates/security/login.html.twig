{# {% extends 'base.html.twig' %} #}

<html>
	<head>
		<meta charset="UTF-8">
		<title>
			{% block title %}Connexion
			{% endblock %}
		</title>

		<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22></text></svg>">
		{% block stylesheets %}
			{{ encore_entry_link_tags('app') }}

			 <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@5.1.3/dist/united/bootstrap.min.css">
			<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@5.1.3/dist/united/_variables.scss">
			<link rel="stylesheet" href="/assets/styles/style.css">
			<link rel="stylesheet" href="/style.css"> 

		{% endblock %}

		{% block javascripts %}
		<script src="https://kit.fontawesome.com/f25d326f0c.js" crossorigin="anonymous"></script>
			{{ encore_entry_script_tags('app') }}
			{% block importmap %}
				{{ importmap('app') }}
			{% endblock %}
		{% endblock %}
	</head>

{% block body %}

	{# LOGIN FORM #}
		 <div class="container py-3 h-100"> 
			<div class="row d-flex justify-content-center align-items-center h-100">
				<div class="col col-xl-10">
					<div class="card" style="border-radius: 1rem;">
						<div class="row g-0">
							<div class="col-md-6 col-lg-5 d-none d-md-block">
								<img src="img/login.jpg" alt="login form" class="img-fluid" style="border-radius: 1rem 0 0 1rem;"/>
							</div>
							<div class="col-md-6 col-lg-7 d-flex align-items-center">
								<div class="card-body p-4 p-lg-5 text-black">

									<form method="post">
										

										{# Si y a une erreur #}
										{% if error %}
											<div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
										{% endif %}
										{% if app.user %}
											<div class="mb-3">
												Vous êtes connecter en tant
												{{ app.user.userIdentifier }},
												<a href="{{ path('app_logout') }}">Deconnexion</a>
											</div>
										{% endif %} 

										<div class="d-flex align-items-center mb-3 pb-1">
											<span class="fa-solid fa-car">
												HorizonCar</span>
										</div>

										<h5 class="fw-normal mb-3 pb-3" style="letter-spacing: 1px;">Connectez vous à votre compte</h5>

										<h1 class="h3 mb-3 font-weight-normal">Connexion</h1>
										<label for="inputMail">Mail</label>
										<input type="text" value="{{ last_username }}" name="mail" id="inputMail" class="form-control" autocomplete="username" required autofocus>
										<label for="inputPassword">Password</label>
										<input type="password" name="password" id="inputPassword" class="form-control" autocomplete="current-password" required>

										<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}"> <br>

										<button class="btn btn-lg btn-primary" type="submit">
											Se connecter
										</button>

										<a class="small text-muted" href="{{path('app_forgot_password_request')}}">Mot de passe oublié</a>
										<p class="mb-5 pb-lg-2" style="color: #393f81;">Vous n'avez pas encore de compte ?
											<a href="{{ path('app_register') }}" style="color: #393f81;">S'inscrire</a>
										</p>
										<a href="#!" class="small text-muted">Terms of use.</a>
										<a href="#!" class="small text-muted">Privacy policy</a>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

{% endblock %}
</html>